N2Require("ItemProgressbar",["Item"],["smartSlider"],function(t,e,a,r){"use strict";function o(){this.type="progressbar",e.Item.prototype.constructor.apply(this,arguments)}return o.prototype=Object.create(e.Item.prototype),o.prototype.constructor=o,o.needSize=!1,o.prototype.getName=function(t){return"Progress bar"},o.prototype.added=function(){this.needFill=["label"],this.addedFont("simple","font"),this.addedFont("simple","fontlabel"),a.generator.registerField(t("#item_progressbarlabel"))},o.prototype._render=function(e){e.value=parseInt(e.value),e.min=Math.min(0,e.value),e.startvalue=Math.max(parseInt(e.startvalue),e.min),e.total=Math.max(Math.max(parseInt(e.total),e.startvalue),e.value);var a=(Math.min(e.startvalue,e.total)-e.min)/(e.total-e.min),r=(Math.min(e.value,e.total)-e.min)/(e.total-e.min),o=t('<div class="n2-ow n2-ss-item-progressbar-container"></div>'),s=t('<div class="n2-ow n2-ss-item-progressbar"></div>').css({backgroundColor:N2Color.hex2rgba(e.color)}).appendTo(o),n=t('<div class="n2-ow n2-ss-item-progressbar-inner"></div>').css({backgroundColor:N2Color.hex2rgba(e.color2),width:100*a+"%"}).appendTo(s),i=t('<div class="n2-ss-item-progressbar-counting '+e.fontclass+' n2-ow"></div>').appendTo(n);if(e.label){var l=t('<div class="n2-ss-item-progressbar-label n2-ow '+e.fontlabelclass+'">'+e.label+"</div>");switch(e.labelplacement){case"before":l.prependTo(o);break;case"over":l.insertBefore(i);break;default:l.appendTo(o)}}this.$item.append(o);var p=function(t){n.css("width",100*t+"%"),i.html(e.pre+(e.min+t*(e.total-e.min)).toFixed(0)+e.post)};t({p:a}).animate({p:r},{duration:parseInt(e.animationduration),delay:parseInt(e.animationdelay),easing:"easeOutExpo",step:function(){p(this.p)},complete:function(){p(this.p)}})},o});