N2Require("ItemCaption",["Item"],["smartSlider"],function(e,t,i,n){"use strict";function a(){this.type="caption",t.Item.prototype.constructor.apply(this,arguments)}return a.prototype=Object.create(t.Item.prototype),a.prototype.constructor=a,a.needSize=!1,a.prototype.added=function(){this.needFill=["content","description","image"],this.addedFont("paragraph","fonttitle"),this.addedFont("paragraph","font"),nextend.smartSlider.generator.registerField(e("#item_captionimage")),nextend.smartSlider.generator.registerField(e("#item_captioncontent")),nextend.smartSlider.generator.registerField(e("#linkitem_captionlink_0"))},a.prototype.getName=function(e){return e.image.split("/").pop()},a.prototype.parseAll=function(i){i.uid=e.fn.uid();var n=i.link.split("|*|");i.url=n[0],i.target=n[1],delete i.link,i.colora=N2Color.hex2rgbaCSS(i.color),i.colorhex=i.color.substr(0,6);var a=i.animation.split("|*|");i.mode=a[0],i.direction=a[1],i.scale=parseInt(a[2]),t.Item.prototype.parseAll.apply(this,arguments),i.image!=this.values.image&&"absolute"==this.layer.placement.getType()&&this.resizeLayerToImage(i.image),i.image=nextend.imageHelper.fixed(i.image)},a.prototype.fitLayer=function(){return"absolute"==this.layer.placement.getType()&&this.resizeLayerToImage(nextend.imageHelper.fixed(this.values.image)),!0},a.prototype._render=function(t){var i=e('<div id="'+t.uid+'" class="n2-ss-item-caption n2-ow"></div>').append(e('<div class="n2-ss-img-wrapper n2-ow"/>').append('<img src="'+t.image+'" class="n2-ow"/>')),n=e('<div class="n2-ss-item-caption-content n2-ow" data-verticalalign="'+t.verticalalign+'"/>').css({background:t.colora}).appendTo(i);t.content&&n.append('<div class="'+t.fonttitleclass+' n2-div-h4 n2-ow">'+t.content+"</div>"),t.description&&n.append('<p class="'+t.fontclass+' n2-ow">'+t.description+"</p>"),this.$item.append(i),new N2Classes.FrontendItemCaption(window["n2-ss-0"],t.uid,t.mode,t.direction,t.scale)},a});